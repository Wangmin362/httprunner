config:
  base_url: https://cd-ucss-230.gatorcloud.skyguardmis.com:443
  verify: False
  variables:
    popId: 4d4bb819-6a01-471d-8ea2-cda7e4882283
    popCode: f5bcee3047718ee25d0e02df
    xTenantId: ${GetTenantId()}
    xTimestamp: ${GetCurrentTimestamp()}
    authorization: ${GetAuth($xTenantId, $popCode, $popId, $xTimestamp)}
  headers:
    Content-Type: application/json
    x-tenant-id: ${xTenantId}
    x-timestamp: ${xTimestamp}
    x-pop-id: ${popId}
    Authorization: ${authorization}

teststeps:
#- name: Get tenant:${xTenantId} authorization information
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/tenant/serviceAuth?version=0
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant list
#  request:
#    method: GET
#    url: $base_url/tenant/list
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp policy currentversion
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/policy/currentVersion
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp policy
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/policy/1
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} policy_notification
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/notification/mta/policy_notification?version=1
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} seg mail backtracking
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/seg/mail/backtracking/task/currentVersion
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} seg mail backtracking task 0
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/seg/mail/backtracking/task/0
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} seg email alert
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/notification/mta/email_alert?version=0
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} seg email alert
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/notification/mta/email_alert?version=0
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} swg ssl exceptions
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/swg/spl/ssl/exceptions/0
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} base directory
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/base/directory/synchronize/version/current
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} swg directorygroup
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/swg/directorygroup/customized_ad_group/list/1
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp directory
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/directory/custom/list
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp customized_active_directory
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/directory/customized_active_directory/6
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp ep
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/ep/config/configVersion?type=global
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp ep config
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/ep/config/globalConfig
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp ep config
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/ep/config/configVersion?type=group
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp ep groupconfig
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/ep/config/groupConfig
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} special dlp ep configversion
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/ep/config/configVersion?type=special
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} specialConfig
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/ep/config/specialConfig
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} program configverion
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/ep/config/configVersion?type=program
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} program config
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/ep/config/programConfig
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} device ep configversion
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/ep/config/configVersion?type=device
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp device config
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/ep/config/deviceConfig
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} user basic setting currentversion
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/configuration/userIdentify/currentVersion
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} userIdentify
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/configuration/userIdentify/23
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp policy currentversion
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/policy/currentVersion/desensitization_policy
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dlp policy desensitization_policy
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/policy/desensitization_policy/0
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} ipConvertVersion
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/device/ipConvertVersion
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} ipConvert
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/device/ipConvert/2
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} tag list
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/tags/list
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fingerprint
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/task/fingerprint?version=1
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} task machine learning
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/task/learn?version=1
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} task ads
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/task/ads?version=1
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} webtask
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/task/webTask?version=1
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} task dlpeptask
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/task/dlpEpTask?version=1
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} task baseInformation
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dsgServer/baseInformation?version=1
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dsgServer protocol
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dsgServer/protocol?version=3
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dsgServer netobject
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dsgServer/netObject?version=0
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dsgServer globalException
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dsgServer/globalException?version=0
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dsgServer rootCa
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dsgServer/rootCA?version=1
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dsgServer service cert
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dsgServer/serviceCert?version=0
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dsgServer blockpageset
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dsgServer/blockpageSet?version=0
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} dsgServer blockpageFiles
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dsgServer/blockpageFiles?version=0
#  validate:
#    - eq: ["status_code", 200]

- name: Get tenant:$xTenantId ors current version
  request:
    method: GET
    url: $base_url/skgwDm/spe/v1/data/ors/currentVersion
  extract:
    version: "body.data.version"
  validate:
    - eq: ["status_code", 200]

- name: Get tenant:${xTenantId} ors data
  request:
    method: GET
    url: $base_url/skgwDm/spe/v1/data/ors/${version}
  disable_report_body: true
  validate:
    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} aprv currentVerion
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/aprv/currentVersion
#  extract:
#    version: "body.data.version"
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} aprv data
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/aprv/${version}
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} policy currentVersion
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/policy/currentVersion
#  extract:
#    version: "body.data.version"
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} policy data
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/policy/${version}
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_filter_unstruct current version
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_filter_unstruct/currentVersion
#  extract:
#    version: "body.data.version"
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_filter_unstruct data
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_filter_unstruct/${version}
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_filter_structed curentversion
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_filter_structed/currentVersion
#  extract:
#    version: "body.data.version"
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_filter_structed data
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_filter_structed/${version}
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_filter_ml current
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_filter_ml/currentVersion
#  extract:
#    version: "body.data.version"
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_filter_ml data
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_filter_ml/${version}
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_unstruct currentVersion
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_unstruct/currentVersion
#  extract:
#    version: "body.data.version"
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_unstruct data
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_unstruct/${version}
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_structed currentVersion
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_structed/currentVersion
#  extract:
#    version: "body.data.version"
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_structed data
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_structed/${version}
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_ml currentVersion
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_ml/currentVersion
#  extract:
#    version: "body.data.version"
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} fpdb_ml data
#  request:
#    method: GET
#    url: $base_url/skgwDm/spe/v1/data/fpdb_ml/${version}
#  validate:
#    - eq: ["status_code", 200]
#
#- name: Get tenant:${xTenantId} cloud app data
#  request:
#    method: GET
#    url: $base_url/skgwSps/sps/v1/dlp/cloudapp
#  validate:
#    - eq: ["status_code", 200]
#

